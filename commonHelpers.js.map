{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n  const apiKey = '44838304-f7fe04331650310c487eefb2b';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderImages(images) {\n  const imageFragment = document.createDocumentFragment();\n\n  images.forEach(img => {\n    const liElem = document.createElement('li');\n    liElem.classList.add('gallery-item');\n\n    const linkElem = document.createElement('a');\n    linkElem.classList.add('gallery-link');\n    linkElem.href = img.largeImageURL;\n    liElem.append(linkElem);\n\n    const imgElem = document.createElement('img');\n    imgElem.classList.add('gallery-image');\n    imgElem.src = img.webformatURL;\n    imgElem.alt = img.tags;\n    imgElem.style.width = '360px';\n    imgElem.style.height = '200px';\n\n    const infoBox = document.createElement('ul');\n    infoBox.classList.add('infobox');\n\n    const createInfoItem = (headerText, value) => {\n      const item = document.createElement('li');\n      item.classList.add('info');\n\n      const header = document.createElement('h2');\n      header.classList.add('info-header');\n      header.textContent = headerText;\n\n      const text = document.createElement('p');\n      text.classList.add('info-text');\n      text.textContent = value;\n\n      item.append(header, text);\n      return item;\n    };\n\n    infoBox.append(\n      createInfoItem('Likes', img.likes),\n      createInfoItem('Views', img.views),\n      createInfoItem('Comments', img.comments),\n      createInfoItem('Downloads', img.downloads)\n    );\n\n    linkElem.append(imgElem, infoBox);\n    imageFragment.append(liElem);\n  });\n\n  const gallery = document.querySelector('ul');\n  gallery.classList.add('gallery');\n  gallery.innerHTML = '';\n  gallery.append(imageFragment);\n\n  const lightbox = new SimpleLightbox('.gallery .gallery-link', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { renderImages, showLoader, hideLoader } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst input = document.querySelector('form input');\nconst submitBtn = document.querySelector('form button');\nconst form = document.querySelector('form');\n\nlet query = '';\n\ninput.addEventListener('input', evt => {\n  query = evt.currentTarget.value;\n});\n\nsubmitBtn.addEventListener('click', evt => {\n  evt.preventDefault();\n  const images = [];\n\n  const gallery = document.querySelector('ul');\n  gallery.classList.add('gallery');\n  gallery.innerHTML = '';\n\n  showLoader();\n\n  fetchImages(query)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fff',\n          color: '#EF4040',\n          position: 'topRight',\n          timeout: 2500,\n          icon: './src/img/error.svg',\n          iconColor: '#fff',\n          maxWidth: '432px',\n        });\n      } else {\n        renderImages(data.hits);\n      }\n    })\n    .catch(error => {\n      console.error(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n\n  form.reset();\n});\n"],"names":["fetchImages","query","url","response","renderImages","images","imageFragment","img","liElem","linkElem","imgElem","infoBox","createInfoItem","headerText","value","item","header","text","gallery","SimpleLightbox","showLoader","loader","hideLoader","input","submitBtn","form","evt","data","iziToast","error"],"mappings":"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"}